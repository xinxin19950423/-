前情回顾

1. 基础概念
   * 什么是数据库
   * 为什么使用数据库
   * 数据库分类
     关系型 & 非关系型
     开源 & 非开源
     大型 & 中型 & 小型

   * 数据库的组织结构
     数据元素 --》记录--》数据表--》数据库
                 row    table   database

     列 column
     主键： primary key
     自增：auto_increment

2. mysql  关系型   开源  c/c++

   安装数据库

3. SQL语句

   * 数据库操作

     show databases;
     create database [db_name];
     select database();
     show create database [db];
     use [db];
     drop database [db];

   * 数据表

     show tables;
     create table [tb_name] (column1 type,...);

         * 字段约束
           primary key
           unsigned
           not null
           default [value]
           auto_increment

         * 数据类型

           数字 ： 整数   小数   布尔

           字符串： char  varchar  text  blob
                   enum  set

           时间日期

     desc [tb];
     show create table [tb];
     drop table [tb];

   * 增 查

     insert into [tb_name] [column1,...] values (val,...)

     select [*/column,..] from [tb] [where ...]

     where 子句

         算数   逻辑   比较   位运算


练习1：
1. 创建数据库 books，默认编码utf8
create database books charset=utf8;

2. 数据库中创建表 book
   字段如下
 id  title(书名) author(作者)
 publication(出版社) price(定价) comment(备注)

create table book (id int primary key auto_increment,title varchar(32) not null,author varchar(32) not null,publication varchar(64),price decimal(5,2),comment text);


3. 插入若干数据
   price 区间 ： 30 -- 75
   出版社 ： 中国教育，机械工业，中国邮电，人民教育，中国文学
   作则： 老舍  钱钟书  鲁迅  张爱玲 金庸  三毛

 insert into book (title,author,price,publication) values ('朝花夕拾','鲁迅',68,'中国邮电出版社');

4. 查找
   查找所有四十多元的书，只看书名，作者，价格
   select title,author,price from book where price >= 40 and price < 50;

   查找老舍写的 又是 中国教育出版的
   select * from book where author='老舍' and publication = '中国教育出版社';

   查找备注不是空的记录
   select * from book where comment is not null;

   查找价格大于60元，或者作者为鲁迅的书，只看作者，书名和价格
   select title,author,price from book where price > 60 or author='鲁迅';

 使用book表

      1. 将某一本书的价格修改为45
      update book set price = 45 where title='骆驼祥子';

      2. 增加一个字段 出版日期 类型为 date 放在出版社后面

      alter table book add publication_date date after publication;

      3. 将所有书的出版日期定位 1990-10-1

      update book set publication_date='1990-10-1';

      4. 修改其中两三本的出版日期，日期自定

      5. 删除所有出版日期在1990年之前的图书
     delete from book where publication_date < '1990-01-01';

练习2：

   1. 创建表 ： sanguo

    id  name  gender  country  attack  defense
                               >100    0-100

      create table sanguo (id int primary key auto_increment,name varchar(32),gender enum('男','女'),country enum('蜀','魏','吴'),attack smallint,defense tinyint);


   2. 插入5条左右记录
      蜀    诸葛亮  孙尚香  张飞  赵云
      魏    司马懿   夏侯渊  张辽  甄姬
      吴    周瑜   陆逊   小乔

   3. 综合练习
      查找所有蜀国人信息
      select * from sanguo where country='蜀';

      将赵云攻击力设置为360，防御68
      update sanguo set attack=360,defense=68 where name = '赵云';

      将吴国英雄攻击力超过300的改为300，防御改为60
      update sanguo set attack=300,defense=60 where country = '吴' and attack > 300;

      查找攻击力高于250的蜀国英雄名字和攻击力
      select name,attack from sanguo where country='蜀' and attack>250;

      将所有英雄按攻击力从高到底排序，如果攻击力相同按照防御力从高到底排序
      select * from sanguo order by attack desc,defense desc;

      将魏蜀两国英雄名字为三个字的按防御力升序排序
      select * from sanguo where country in ('魏','蜀') and name like '___' order by defense;

      找到吴国英雄中攻击力前2的英雄，且名字不能为NULL

     select * from sanguo where country='吴' and name is not null order by attack desc limit 2;








